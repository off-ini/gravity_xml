<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Labo XML</title>
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!-- Font Awesome CSS File -->
        <link rel="stylesheet" href="css/all.min.css">
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;500&display=swap" rel="stylesheet">
    </head>

<body>
    <div class="page">
        <div class="sidebar">
            <div class="logo">
                TEAM TORTUE
            </div>
            <ul class="menu">
                <li>
                    <a href="index.html">
                        <i class="fa-regular fa-chart-bar fa-fw"></i>
                        <span>Dashboard</span>
                    </a>
                </li>

        
                
                <li>
                    <a href="xml.html" class="active">
                        <i class="fa-solid fa-database" style="color: #1f5120;"></i>
                        <span>Labo XML</span>
                    </a>
                </li>
                
                
                
                
            </ul>
        </div>

        <div class="content">
            <div class="topbar">
                <div class="demo-preview ">
                        
                       
                    <div class="alert alert-success alert-dismissable fade in" style="color:white;">
                      <button type="button" data-dismiss="alert" aria-label="close" class="close">
                          <span aria-hidden="true">×</span>
                        </button>
                          <strong >Well done!</strong> 
                          You successfully read this important alert message.
                    </div>
                    
                    
                    <div class="alert alert-danger alert-dismissable fade in" style="color:white;">
                      <button type="button" data-dismiss="alert" aria-label="close" class="close">
                          <span aria-hidden="true">×</span>
                        </button>
                        <strong>Oh snap!</strong> 
                        Change a few things up and try submitting again.
                    </div>
                </div>
            </div>
            <h1 class="main-heading">CSV TO XML OR MySQL</h1>
            
            <div class="wrapper">

                <div class="welcome">
                    <div class="head">
                        <div class="text">
                            <h2>Gravity_V202211</h2>
                            <span> XML PROJET</span>
                        </div>
                        <img src="imgs/welcome.png" alt="welcome-img" class="welcome-img">
                        <img src="imgs/activity-03.png" alt="profile_avatar" class="avatar">
                    </div>
                    <div class="infos">
                        <div>
                            <span>Type Change</span>
                            <span>CSV TO XML AND/OR MySQL</span>
                        </div>
                        <div>
                            <span>80</span>
                            <span>Colonnes</span>
                        </div>
                        <div>
                            <span>8500</span>
                            <span>Lignes</span>
                        </div>
                    </div>
                    <section class="w3-container w3-card w3-leftbar w3-topbar">
                        <label style="font-weight: bold;" for="csvUpload">Charger un fichier CSV </label>
                        <input class="w3-input" type="file" id="fileselected">
                        <button onclick="" class="w3-bar w3-teal">Prévisualiser en XML</button>
                    </section>

                    

                    <section class="w3-container w3-card w3-leftbar w3-topbar">
                        <button onclick="clearlog()" class="w3-bar w3-teal">Effacer les Log</button>
                    </section>
                   
                </div>
                <div class="latest-uploads">
                    <h2>Application LOG</h2>
                    
                    <div id="LogDiv" class="w3-dark-grey" style="height: 45vh; font-family: monospace; overflow: auto;">
                    </div>
                </div>
  
            </div>

            <div class="projects">
                <div class="ligne">
                    <div class="block">
                        <h2>XML DATA</h2>
                    </div>
                    
                    <div class="block">
                        <a href="xmlUpdate.html" class="widget-btn-Tomato" >Ajouter Gravity</a>
                    </div>
                    <div class="block">
                        <a href="profile.html" class="widget-btn-Gold" >Inserer dans la BD MysQL</a>
                    </div>
                    <div class="block">
                        <a href="profile.html" class="widget-btn-green" >Exporter la table XML</a>
                    </div>
                    
                
                </div>
                
                <div class="responsive-table2">
                    <table>
                        <thead>
                            <tr>
                                <td>gravity_id</td>
                                <td>Year</td>
                                <td>Country_id_o</td>
                                <td>Country_id_d</td>
                                <td>Distw_harmonic</td>
                                <td>Distw_arithmetic</td>
                                <td>Dist</td>

                                <td>Distcap</td>
                                <td>Contig</td>
                                <td>Comlang_off</td>
                                <td>Comcol</td>
                                <td>Comrelig</td>
                                <td>Pop_o</td>

                                <td>Pop_d</td>
                                <td>Gdp_o</td>
                                <td>Gdp_d</td>
                                <td>Pop_pwt_o</td>
                                <td>Actions</td>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>d0f109e1b56b2f0bb324bf0778ab2e53</td>												
                                <td>1982</td>
                                <td>TGO</td>
                                <td>AGO</td>
                                
                                <td>2257</td>
                                <td>2281</td>
                                <td>2126</td>
                                <td>2126</td>

                                <td>0</td>
                                <td>0</td>
                                <td>0</td>
                                <td>0,213368997</td>
                                			
                                <td>2915,098</td>
                                <td>8190,093</td>
                                <td>821652,032</td>
                                <td>6964499,968</td>

                                <td>2915,065918</td>
                                
                                
                                <td class="status">
                                    <a href="#"></a>
                                    <span class="fa-regular fa-trash-can " style="color: #a30031;"></span>
                                </a>
                                    
                                    <a href="xmlUpdate.html">
                                        <span class="fa-solid fa-pen-to-square" style="color: #e65b2d;"></span>
                                    </a>
                                </td>
                            </tr>
                           
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
<script>    
    var xmldata;
    var parser = new DOMParser();
    var dom;
    document.getElementById("fileselected")
        .addEventListener('change', function (){            
            document.getElementById("LogDiv").innerHTML='=> Chargement du fichier CSV...<br>';            
            document.getElementById("LogDiv").innerHTML+='=> Fichier CSV Chargé...<br>';
            var fr = new FileReader();
            fr.onload = function () {
                xmldata = fr.result;
                dom = parser.parseFromString(xmldata, "text/xml");
            }
            fr.readAsText(this.files[0]);
            document.getElementById("LogDiv").innerHTML+='=> Traitement terminé ! cliquer sur le boutton "PREVISUALISER" pour parcourir la data<br>';
        });

        function clearlog(){
        document.getElementById("LogDiv").innerHTML="";        
    }

    

</script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</html>